(this["webpackJsonpreact_dynamic-list-of-posts"]=this["webpackJsonpreact_dynamic-list-of-posts"]||[]).push([[0],[,,,,,,,function(e,t,n){e.exports=n(17)},,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),s=n.n(a),c=n(5),r=n.n(c),o=n(2),l=n.n(o),m=n(3),u=n(6),i=n(1),p=(n(13),n(14),function(e){var t=e.id,n=e.name,a=e.email,c=e.address;return s.a.createElement("div",{className:"post__autor user",key:t},s.a.createElement("div",{className:"user__info"},s.a.createElement("span",{className:"user__info-decor"},"Autor: "),n),s.a.createElement("div",{className:"user__info"},s.a.createElement("span",{className:"user__info-decor"},"Email: "),a),s.a.createElement("div",{className:"user__info"},s.a.createElement("span",{className:"user__info-decor"},"Address: "),c.city,","," ",c.street,","," ",c.suite))}),f=(n(15),function(e){var t=e.comment;return s.a.createElement("li",{className:"post__comment comment"},s.a.createElement("h3",{className:"comment__title"},t.name),s.a.createElement("p",{className:"comment__text"},t.body),s.a.createElement("span",{className:"comment__email"},t.email))}),d=function(e){var t=e.commentsList;return s.a.createElement("ul",null,t.map((function(e){return s.a.createElement(f,{comment:e,key:e.id})})))},_=(n(16),function(e){var t=e.post;return s.a.createElement("li",{className:"post-list__post post"},s.a.createElement("h2",{className:"post__title"},t.title),s.a.createElement("p",{className:"post__text"},t.body),t.user&&s.a.createElement(p,t.user),t.comments&&s.a.createElement(d,{commentsList:t.comments}))}),E=function(e){var t=e.posts;return s.a.createElement("ul",null,t.map((function(e){return s.a.createElement(_,{post:e,key:e.id})})))},b=function(e){return fetch("https://mate-academy.github.io/react_dynamic-list-of-posts/api"+e).then((function(e){return e.json()}))},v=function(){var e=Object(a.useState)([]),t=Object(i.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(!1),o=Object(i.a)(r,2),p=o[0],f=o[1],d=Object(a.useState)(!1),_=Object(i.a)(d,2),v=_[0],j=_[1],y=Object(a.useState)(""),N=Object(i.a)(y,2),h=N[0],O=N[1],k=Object(a.useState)(""),x=Object(i.a)(k,2),g=x[0],w=x[1],L=function(){var e=Object(u.a)(l.a.mark((function e(){var t,n,a,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j(!0),e.prev=1,e.next=4,b("/posts.json");case 4:return t=e.sent,e.next=7,b("/users.json");case 7:return n=e.sent,e.next=10,b("/comments.json");case 10:a=e.sent,s=t.map((function(e){return Object(m.a)(Object(m.a)({},e),{},{user:n.find((function(t){return t.id===e.userId})),comments:a.filter((function(t){return t.postId===e.id}))})})),c(s),f(!0),O(""),e.next=21;break;case 17:e.prev=17,e.t0=e.catch(1),O("Error"),j(!1);case 21:j(!1);case 22:case"end":return e.stop()}}),e,null,[[1,17]])})));return function(){return e.apply(this,arguments)}}(),C=Object(a.useMemo)((function(){return function(e,t){return t.filter((function(t){return(t.title+t.body).toLowerCase().includes(e.toLowerCase())}))}(g,n)}),[g,n]);return s.a.createElement("section",{className:"post-list"},s.a.createElement("h1",{className:"post-list__title"},"Dynamic list of posts"),p?s.a.createElement(s.a.Fragment,null,s.a.createElement("div",null,s.a.createElement("input",{type:"textarea",className:"post-list__filter",value:g,onChange:function(e){w(e.target.value)}}),s.a.createElement("button",{type:"button",onClick:function(){w("")}},"Reset")),s.a.createElement(E,{posts:C})):s.a.createElement(s.a.Fragment,null,s.a.createElement("button",{type:"button",onClick:L,disabled:v},v?"Loading...":"Load"),h&&s.a.createElement("p",null,h)))};r.a.render(s.a.createElement(v,null),document.getElementById("root"))}],[[7,1,2]]]);
//# sourceMappingURL=main.b8a58ae6.chunk.js.map